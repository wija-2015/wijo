<div class="bg-light lter b-b wrapper-md">
  <h1 class="m-n font-thin h3">Consulter fiche d'objectifs d'un collaborateur</h1>
</div>
<div class="wrapper-md" ng-controller="adminCtrl">
	
  
	   <div class="panel b-a">
         
          <div class="panel-body">
			   
			   <div class="col-sm-2">Choisir Matricule Collaborateur</div>
			   <div class="col-sm-2">
                  <select class="form-control m-t" value="Selectionner Collaborateur" ng-model="idCollaborateur" ng-change="chargerFicheObjectifs()">
			               <option ng-repeat="c in collaborateurs" ng-value="c.idCollaborateur">{{c.matriculeUser}}</option>
			       </select> 			   
			   </div>
			   
           </div>
	   </div>
	   
	      
<div ng-if="ficheObjectifs">
   <table class="table table-bordered table-hover table-condensed bg-white-only">
    <tr style="font-weight: bold">
      <td>Catégorie</td>
	  <td>Objectif</td>
      <td>Description</td>
	  <td>Mesure</td>
	  <td>Responsable Mesure</td>
	  <td>Profil Responsable Mesure</td>
	  <td>Poids</td>
	  <td>Résultat</td>
	  <td>Note Finale</td>
      <td>Action</td>
    </tr>
    <tr ng-repeat="obj in ficheObjectifs">
        <td class="v-middle">{{obj.categorie.nomCategorie}}</td>
		<td class="v-middle">Objectif</td>
		<td class="v-middle">{{obj.description}}</td>
		<td class="v-middle">
		  <div ng-repeat="eval in obj.evaluationobjectifs">{{eval.mesureObj}}</div>
		</td>
		<td class="v-middle">
		  <div ng-repeat="eval in obj.evaluationobjectifs">{{eval.encadrant.nomUser}} {{eval.encadrant.prenomUser}}:{{eval.encadrant.matriculeUser}}</div>
		</td>
		<td class="v-middle">
		  <div ng-repeat="eval in obj.evaluationobjectifs">{{eval.encadrant.profil.nomProfil}}</div>
		</td>
		<td class="v-middle">
		   <div ng-repeat="eval in obj.evaluationobjectifs">{{eval.poidsObj}}</div>
		</td>
		<td class="v-middle">
		   <div ng-repeat="eval in obj.evaluationobjectifs">{{eval.resultatObj}}</div>
		</td>
       <td class="v-middle">
		   <div ng-repeat="eval in obj.evaluationobjectifs">{{eval.noteFinaleObj}}</div>
		</td>
	    <td class="v-middle"><button class="btn btn-sm btn-info" ng-click="">Envoyer</button><br></br><button class="btn btn-sm btn-info" ng-click="">Supprimer</button></td>
	</tr>
  </table>
	   
	</div>
	
	<div class="panel panel-default" > ng-if="collabfeedbacks"
    <div ng-repeat="feed in collabfeedbacks.content">
	
   
    <div class="row">
	  <div class="col-sm-6">   
        
	  <div class="panel b-a">
          <div class="panel-heading b-b b-light">Informations du feedback</div>
          <div class="panel-body">
		     <div class="row"><div class="col-sm-6">Nom Prénom d'Evaluateur</div><div class="col-sm-6">{{feed.encadrant.prenomUser}} {{feed.encadrant.nomUser}}</div></div>
		     <div class="row"><div class="col-sm-6">Matricule Evaluateur</div><div class="col-sm-6">{{feed.encadrant.matriculeUser}}</div></div>
			 <div class="row"><div class="col-sm-6">Profil Evaluateur</div><div class="col-sm-6">{{feed.encadrant.profil.nomProfil}}</div></div>
            <br></br> 
			<div class="row"><div class="col-sm-6">Nom du collaborateur</div><div class="col-sm-6">{{feed.collaborateur.nomUser}}</div></div>
            <div class="row"><div class="col-sm-6">Prénom</div><div class="col-sm-6">{{feed.collaborateur.prenomUser}}</div></div>
			 <div class="row"><div class="col-sm-6">Matricule</div><div class="col-sm-6">{{feed.collaborateur.matriculeUser}}</div></div>
			 <div class="row"><div class="col-sm-6">Poste Actuel </div><div class="col-sm-6">{{feed.collaborateur.poste}}</div></div>
            <div class="row"><div class="col-sm-6">Code Projet</div><div class="col-sm-6">{{feed.projet.codeProjet}}</div></div>
			 <div class="row"><div class="col-sm-6">Nom Projet</div><div class="col-sm-6">{{feed.projet.nomProjet}}</div></div>
			 <div class="row"><div class="col-sm-6">Date Début d'intervention </div><div class="col-sm-6">{{feed.dateDebut|date:'yyyy-MM-dd'}}</div></div>
            <div class="row"><div class="col-sm-6">Date Fin d'intervention</div><div class="col-sm-6">{{feed.dateFin|date:'yyyy-MM-dd'}}</div></div>
			 <div class="row"><div class="col-sm-6">Role</div><div class="col-sm-6">{{feed.role}}</div></div>
			 <div class="row"><div class="col-sm-6">Nombre de jours valorisés</div><div class="col-sm-6">{{feed.nbJours}}</div></div>
			 <div class="row"><div class="col-sm-6">Commentaire Général </div><div class="col-sm-6">{{feed.commentaire}}</div></div>
			 
          </div>
		  
		  <ul ng-show="collabfeedbacks.totalPages>1" class="container nav nav-pills">
            <li class="clickable" ng-repeat="p in pages track by $index" ng-class="{active:$index==pageCourante}">
              <a ng-click="gotoPage2($index)">{{$index}}</a>
            </li>
     </ul>
      </div>
	  </div>
	<div class="col-sm-6">
    <div class="table-responsive">
	 
     <table  class="table table-striped b-t b-b">
        <thead>
          <tr>
            <th>Thèmes </th>
            <th>Qualification</th>
			 <th>Remarque</th>
			 
          </tr>
		  <tr ng-repeat="qualif in feed.qualifications">
		       <td>{{qualif.theme.nomTheme}}</td><td>{{qualif.nomQualification}}</td><td>{{qualif.remarque}}</td>
		       
		  </tr>
        </thead>
      
        <tbody>
        </tbody>
      </table>
	  
	  </div>
	  </div>
    </div>
	</div>

	</div>
</div>